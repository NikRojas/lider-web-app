function dibujaBloq(e,t){e.style.position="relative";let i=document.createElement("div"),l=document.createElement("span");l.appendChild(document.createTextNode("procesando...")),i.appendChild(l),i.setAttribute("class","callid-bloq"),i.style.display="block",i.style.width="100%",i.style.position="absolute",i.style.top=0,null!=t&&(e.style.height=t,i.style.height=t),blq=e.getElementsByClassName("callid-bloq"),blq.length>0&&e.removeChild(blq[0]),e.appendChild(i)}function dibujaFormulario(e){let t=e.getAttribute("id");if(null==window.calLidObj[t].lunesPrimero&&(window.calLidObj[t].lunesPrimero=!1),null==window.calLidObj[t].segmentos&&(window.calLidObj[t].segmentos="40"),null!=window.calLidObj[t].sgtoSel&&0!=window.calLidObj[t].sgtoSel||(window.calLidObj[t].sgtoSel=parseInt(window.calLidObj[t].segmentos.split(",")[0])),null==window.calLidObj[t].horaIni&&(window.calLidObj[t].horaIni="00:00"),null==window.calLidObj[t].horaFin&&(window.calLidObj[t].horaFin="23:59"),null==window.calLidObj[t].minsDia){let e=60*parseInt(window.calLidObj[t].horaIni.split(":")[0])+parseInt(window.calLidObj[t].horaIni.split(":")[1]),i=60*parseInt(window.calLidObj[t].horaFin.split(":")[0])+parseInt(window.calLidObj[t].horaFin.split(":")[1]);window.calLidObj[t].minsDia=i-(e+window.calLidObj[t].sgtoSel)}if(null==window.calLidObj[t].minsPDia){let e=new Date,i=60*parseInt(window.calLidObj[t].horaFin.split(":")[0])+parseInt(window.calLidObj[t].horaFin.split(":")[1]);window.calLidObj[t].minsPDia=i-(60*e.getHours()+e.getMinutes()+window.calLidObj[t].sgtoSel)}null==window.calLidObj[t].formato24Horas&&(window.calLidObj[t].formato24Horas=!1),null!=window.calLidObj[t].textoMeses&&""!=window.calLidObj[t].textoMeses||(window.calLidObj[t].textoMeses="Enero,Febrero,Marzo,Abril,Mayo,Junio,Julio,Agosto,Septiembre,Octubre,Noviembre,Diciembre"),null!=window.calLidObj[t].textoDias&&""!=window.calLidObj[t].textoDias||(window.calLidObj[t].textoDias="Dom,Lun,Mar,Mie,Jue,Vie,Sab"),null!=window.calLidObj[t].textoHora&&""!=window.calLidObj[t].textoHora||(window.calLidObj[t].textoHora="hor."),null!=window.calLidObj[t].textoMinuto&&""!=window.calLidObj[t].textoMinuto||(window.calLidObj[t].textoMinuto="min."),null!=window.calLidObj[t].textoSeleccionSegmento&&""!=window.calLidObj[t].textoSeleccionSegmento||(window.calLidObj[t].textoSeleccionSegmento="Â¿Cuanto tiempo prefiere?"),null!=window.calLidObj[t].textoSeleccionHora&&""!=window.calLidObj[t].textoSeleccionHora||(window.calLidObj[t].textoSeleccionHora="Â¿Que hora es mejor?"),null!=window.calLidObj[t].textoBoton&&""!=window.calLidObj[t].textoBoton||(window.calLidObj[t].textoBoton="Registrar"),null==window.calLidObj[t].muestraFormulario&&(window.calLidObj[t].muestraFormulario=!0),null==window.calLidObj[t].muestraBoton&&(window.calLidObj[t].muestraBoton=!0),null==window.calLidObj[t].minNoHabilDiaUno&&(window.calLidObj[t].minNoHabilDiaUno=0),null==window.calLidObj[t].alto?window.calLidObj[t].alto="auto":window.calLidObj[t].alto=window.calLidObj[t].alto.toLowerCase(),null==window.calLidObj[t].ancho?window.calLidObj[t].ancho="100%":window.calLidObj[t].ancho=window.calLidObj[t].ancho.toLowerCase();let i=0,l=0;for(calend of window.calLidObj[t].calendarios)for(evt of calend.eventos)i=60*parseInt(evt.inicio.substr(-4,2))+parseInt(evt.inicio.substr(-2)),l=60*parseInt(evt.fin.substr(-4,2))+parseInt(evt.fin.substr(-2)),evt.minsTot=l-i,evt.dia=evt.inicio.substring(0,8);blq=e.getElementsByClassName("callid-bloq"),blq.length>0&&e.removeChild(blq[0]),e.style.height=window.calLidObj[t].alto,e.style.width=window.calLidObj[t].ancho;let a=document.createElement("table");a.setAttribute("class","callid-frm"),a.style.width="100%";let n,d,o,r=document.createElement("tbody"),c=document.createElement("tr"),s=document.createElement("td");for(var w in window.calLidObj[t].leadPropiedades)null!=window.calLidObj[t].lead[w]&&""!=window.calLidObj[t].lead[w]||(o=document.createTextNode(window.calLidObj[t].leadPropiedades[w].etiqueta),(n=document.createElement("label")).setAttribute("class","callid-lbl"),n.appendChild(o),(d=document.createElement("input")).setAttribute("type",window.calLidObj[t].leadPropiedades[w].tipo),d.setAttribute("data-pelemento",w),d.setAttribute("name",`callid_${w}`),d.setAttribute("class","callid-text"),s.appendChild(n),s.appendChild(d),c.appendChild(s),r.appendChild(c),c=document.createElement("tr"),s=document.createElement("td"),null==window.calLidObj[t].lead[w]&&(window.calLidObj[t].lead[w]=""));a.appendChild(r),window.calLidObj[t].muestraFormulario||(a.style.display="none");let u=e.getElementsByClassName("callid-cntfrm")[0],b=e.getElementsByClassName("callid-cntcal")[0],p=e.getElementsByClassName("callid-cntbtn")[0],m=document.createElement("div");m.setAttribute("class","callid-cntfrm"),m.style.display="inline-block",m.style.width="100%",m.appendChild(a),null!=u&&e.removeChild(u),e.insertBefore(m,e.firstChild);let h=m.offsetHeight+8;if(null==b&&((b=document.createElement("div")).setAttribute("class","callid-cntcal"),b.style.display="inline-block",b.style.position="relative",b.style.width="100%",e.appendChild(b)),window.calLidObj[t].muestraBoton&&(null==p?((p=document.createElement("div")).setAttribute("class","callid-cntbtn"),p.style.display="inline-block",p.style.width="100%",o=document.createTextNode(window.calLidObj[t].textoBoton),inboton=document.createElement("button"),inboton.setAttribute("type","button"),inboton.setAttribute("class","callid-btn"),inboton.addEventListener("click",function(){registraLead(this.parentElement.parentElement)}),inboton.setAttribute("disabled",""),inboton.appendChild(o),p.appendChild(inboton),e.appendChild(p)):(btn=p.getElementsByClassName("callid-btn"),btn.length>0&&btn[0].setAttribute("disabled","")),h+=p.offsetHeight+8),"auto"!=window.calLidObj[t].alto&&window.calLidObj[t].alto.indexOf("px")>0){let e=parseInt(window.calLidObj[t].alto.replace("px",""));b.style.height=e-h+"px"}dibujaCalendario(t,b)}function dibujaCalendario(e,t,i=0){let l=[];null!=window.calLidObj[e].fechaIni&&""!=window.calLidObj[e].fechaIni&&(l=window.calLidObj[e].fechaIni.split("-"));let a=l.length>0?new Date(l[0],parseInt(l[1])-1,l[2]):new Date;window.calLidObj[e].minNoHabilDiaUno>0&&a.setTime(a.getTime()+6e4*window.calLidObj[e].minNoHabilDiaUno);let n=new Date(a.getTime()+6e4*window.calLidObj[e].sgtoSel);if(a.getDay()<n.getDay())a=n;else{(n.getHours()<10?"0":"")+n.getHours()+":"+(n.getMinutes()<10?"0":"")+n.getMinutes()>=window.calLidObj[e].horaFin&&(a=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1,0,0,0))}let d=a.getMonth()+i,o=new Date(a.getFullYear(),d+1,0).getDate(),r=new Date(a.getFullYear(),d,0).getDate(),c=a.getMonth()+1,s=a.getFullYear()+(a.getMonth()<9?"0":"")+(a.getMonth()+1)+(a.getDate()<10?"0":"")+a.getDate(),w="",u=(a.getHours()<10?"0":"")+a.getHours()+":"+(a.getMinutes()<10?"0":"")+a.getMinutes();null!=window.calLidObj[e].fechaFin&&""!=window.calLidObj[e].fechaFin?(w=window.calLidObj[e].fechaFin.split("-").join(""),c=parseInt(window.calLidObj[e].fechaFin.split("-")[1])-c):c=100,a=new Date(a.getFullYear(),d),i>0&&(s=a.getFullYear()+(a.getMonth()<9?"0":"")+(a.getMonth()+1)+"01");let b=a.getDay(),p=a.getFullYear(),m=0,h=window.calLidObj[e].textoDias.split(","),L=window.calLidObj[e].textoMeses.split(",");d>11&&(d-=12*parseInt(d/12)),window.calLidObj[e].lunesPrimero&&(--b<0&&(b=6),dom=h.shift(),h.push(dom));let g={},f="",j="",O=window.calLidObj[e].horaFin.replace(":",""),y=0,E=0;for(calend of((i>0||u<=window.calLidObj[e].horaIni)&&(u=""),window.calLidObj[e].calendarios))for(evt of calend.eventos)f!=evt.dia&&(y>E&&(null==g[f]&&(g[f]=0),g[f]++),f=evt.dia,y=0),evt.dia==s&&""!=u?(j=u.replace(":",""),E=window.calLidObj[e].minsPDia):(j=window.calLidObj[e].horaIni.replace(":",""),E=window.calLidObj[e].minsDia),evt.fin>f+j&&evt.inicio<f+O&&(y+=evt.minsTot);for(tdh in y>E&&(null==g[f]&&(g[f]=0),g[f]++),g)g[tdh]<window.calLidObj[e].calendarios.length&&delete g[tdh];for(;null!=g[s];)a=new Date(parseInt(s.substring(0,4)),parseInt(s.substr(-4,2))-1,parseInt(s.substr(-2))+1),s=a.getFullYear()+(a.getMonth()<9?"0":"")+(a.getMonth()+1)+(a.getDate()<10?"0":"")+a.getDate(),u="";0==window.calLidObj[e].calendarios.length&&(s="");let C=document.createElement("table"),v=document.createElement("table");C.setAttribute("class","callid-calbtn"),C.style.width="100%",C.style.display="inline-table",v.setAttribute("class","callid-calmes"),v.style.width="100%",v.style.display="inline-table";let A=document.createElement("tbody"),T=document.createElement("tr"),N=document.createElement("th"),F=document.createElement("td"),I=document.createElement("a"),S=document.createTextNode("<");i>0?(I.appendChild(S),I.addEventListener("click",function(){dibujaCalendario(e,t,--i)}),I.style.cursor="pointer",F.appendChild(I)):(S=document.createTextNode(" "),F.appendChild(S)),F.style.width="14%",T.appendChild(F),F=document.createElement("td"),S=document.createTextNode(L[d]+" "+p),F.appendChild(S),F.style.width="70%",T.appendChild(F),F=document.createElement("td"),I=document.createElement("a"),S=document.createTextNode(">"),100==c||i<c?(I.appendChild(S),I.addEventListener("click",function(){dibujaCalendario(e,t,++i)}),I.style.cursor="pointer",F.appendChild(I)):(S=document.createTextNode(" "),F.appendChild(S)),F.style.width="14%",T.appendChild(F),A.appendChild(T),C.appendChild(A),T=document.createElement("tr"),h.forEach(function(e,t,i){N=document.createElement("th"),S=document.createTextNode(e),N.appendChild(S),T.appendChild(N)});let D=document.createElement("thead");D.appendChild(T),v.appendChild(D);let B=o+b,H=1-b,z=0;B%7>0&&(B+=7-B%7),A=document.createElement("tbody"),T=document.createElement("tr"),F=document.createElement("td");let M="";for(let i=1;i<=B;i++,H++)H>0&&H<=o?(M=p+(d<9?"0":"")+(d+1)+(H<10?"0":"")+H,S=document.createTextNode(H),F.setAttribute("data-dia",M),""!=s&&M>=s&&(""==w||M<=w)&&null==g[M]?(F.setAttribute("class","td-dia"),F.addEventListener("click",function(){x=this.parentElement.parentElement.getElementsByClassName("td-dia-sel"),x.length>0&&x[0].classList.remove("td-dia-sel"),this.classList.add("td-dia-sel"),dibujaDia(e,t.lastChild,this.getAttribute("data-dia"),m,this.getAttribute("data-horini"))}),F.style.cursor="pointer"):F.setAttribute("class","td-dia-inhab"),s==M&&(F.setAttribute("data-horini",u),F.classList.add("td-dia-sel"))):(z=H>o?H-o:r+H,S=document.createTextNode(z),F.setAttribute("class","td-no-dia")),spn=document.createElement("span"),spn.appendChild(S),F.appendChild(spn),T.appendChild(F),i%7==0&&(A.appendChild(T),T=document.createElement("tr")),F=document.createElement("td");v.appendChild(A);let P=t.getElementsByClassName("callid-cntmes")[0],k=document.createElement("div");k.setAttribute("class","callid-cntmes"),k.appendChild(C),k.appendChild(v),k.style.display="inline-block",k.style.float="left",null!=P&&t.removeChild(P),t.insertBefore(k,t.firstChild),"auto"!=window.calLidObj[e].alto&&window.calLidObj[e].alto.indexOf("px")>0&&(k.style.height=`${t.offsetHeight-4}px`),m=dibujaSegmentos(e,t,k.offsetHeight),dibujaDia(e,t.lastChild,s,m,0==i?u:"")}function dibujaSegmentos(e,t,i=0){let l=document.createElement("tbody"),a=document.createElement("tr"),n=document.createElement("td"),d=document.createElement("table");d.setAttribute("class","callid-tbsgto"),d.style.display="inline-table";let o=window.calLidObj[e].segmentos.split(",");if(o.length>1){for(segmto of(txt=document.createTextNode(window.calLidObj[e].textoSeleccionSegmento),n.appendChild(txt),n.setAttribute("class","callid-tdtit"),n.setAttribute("colspan",o.length),a.appendChild(n),l.appendChild(a),a=document.createElement("tr"),o))tpom=parseInt(segmto),tpom%60==0?segmto=parseInt(tpom/60)+" "+window.calLidObj[e].textoHora:segmto+=" "+window.calLidObj[e].textoMinuto,txt=document.createTextNode(segmto),(n=document.createElement("td")).appendChild(txt),n.setAttribute("class","td-segto"),n.setAttribute("data-segto",tpom),window.calLidObj[e].sgtoSel==tpom&&n.classList.add("td-segto-sel"),n.addEventListener("click",function(){window.calLidObj[e].sgtoSel=parseInt(this.getAttribute("data-segto")),x=this.parentElement.parentElement.getElementsByClassName("td-segto-sel"),x.length>0&&x[0].classList.remove("td-segto-sel"),this.classList.add("td-segto-sel"),x=t.parentElement.getElementsByClassName("td-dia-sel"),x.length>0&&dibujaDia(e,t.lastChild,x[0].getAttribute("data-dia"),i,x[0].getAttribute("data-horini"))}),n.style.cursor="pointer",a.appendChild(n);l.appendChild(a)}txt=document.createTextNode(window.calLidObj[e].textoSeleccionHora),(n=document.createElement("td")).appendChild(txt),n.setAttribute("class","callid-tdtit"),o.length>1&&n.setAttribute("colspan",o.length),(a=document.createElement("tr")).appendChild(n),l.appendChild(a),d.appendChild(l);let r=t.getElementsByClassName("callid-cntsto")[0],c=document.createElement("div");if(c.setAttribute("class","callid-cntsto"),c.appendChild(d),c.style.display="inline-block",i>0&&(c.style.height=i+"px"),null!=r){let e=r.getElementsByTagName("input")[0];t.removeChild(r),c.appendChild(e)}return t.appendChild(c),i-=d.offsetHeight}function dibujaDia(e,t,i,l=0,a=""){let n=document.createElement("table");if(n.setAttribute("class","callid-caldia"),n.style.display="inline-table",""!=i){let l,d=!0,o=document.createElement("tbody"),r=document.createElement("tr"),c=document.createElement("td"),s="",w=window.calLidObj[e].horaIni;for(calend of(null!=a&&null!=a&&""!=a&&(w=a),window.calLidObj[e].calendarios))s+="x"+calend.idUsuario+"x";for(let a=0;a<1440;){let n=parseInt(a/60),u=a%60,b=0,p=(n<10?"0":"")+n+":"+(0==u?"00":u),m=i+(n<10?"0":"")+n+(0==u?"00":u),h=s;if(p>=w&&p<window.calLidObj[e].horaFin){(u+=window.calLidObj[e].sgtoSel)>=60&&(n++,u-=60);let a=i+(n<10?"0":"")+n+(0==u?"00":u);if((n<10?"0":"")+n+":"+(0==u?"00":u)<=window.calLidObj[e].horaFin)for(calend of window.calLidObj[e].calendarios)for(evt of calend.eventos)(m>=evt.inicio&&m<evt.fin||a>evt.inicio&&a<=evt.fin||m>=evt.inicio&&a<=evt.fin||evt.inicio>=m&&evt.fin<=a)&&(++b==window.calLidObj[e].calendarios.length?d=!1:h=h.replace("x"+calend.idUsuario+"x",""));else d=!1;d&&(l=document.createTextNode(horaFormato(e,p)),c.appendChild(l),c.setAttribute("class","td-hora"),c.style.display="block",c.style.minHeight="18px",h.length>0&&(h=h.replace(/xx/g,"|"),c.setAttribute("data-ids",h.substring(1,h.length-1))),c.setAttribute("data-hora-inicial",m),c.setAttribute("data-hora-final",a),c.addEventListener("click",function(){let i=this.parentElement.parentElement.getElementsByClassName("td-hora-sel");i.length>0&&i[0].classList.remove("td-hora-sel"),this.classList.add("td-hora-sel"),t.getElementsByTagName("input")[0].value=this.getAttribute("data-hora-inicial"),window.calLidObj[e].lead.fechaInicio=this.getAttribute("data-hora-inicial"),window.calLidObj[e].lead.fechaFin=this.getAttribute("data-hora-final"),window.calLidObj[e].lead.idUsuarioAsignado=this.getAttribute("data-ids"),window.calLidObj[e].hasOwnProperty("seleccionoFecha")&&window.calLidObj[e].seleccionoFecha(this.getAttribute("data-hora-inicial"),this.getAttribute("data-hora-final")),btn=t.parentElement.parentElement.getElementsByClassName("callid-btn"),btn.length>0&&btn[0].removeAttribute("disabled")}),c.style.cursor="pointer",r.appendChild(c),o.appendChild(r),r=document.createElement("tr"),c=document.createElement("td"))}a+=window.calLidObj[e].sgtoSel,d=!0}n.appendChild(o)}let d=t.getElementsByClassName("callid-cntdia")[0],o=document.createElement("div"),r=document.createElement("input");if(null!=d)r=d.getElementsByTagName("input")[0],t.removeChild(d);else{let e=t.getElementsByTagName("input");e.length>0?(r=e[0],t.removeChild(e[0])):(r.setAttribute("type","text"),r.setAttribute("data-pelemento","fechaInicio"),r.setAttribute("name","callid_fechaInicio"),r.style.width="95%",r.style.height="0",r.style.border="0",r.style.display="block",r.style.padding="0")}o.setAttribute("class","callid-cntdia"),o.appendChild(r),o.appendChild(n),o.style.display="inline-block",o.style.overflowY="auto",o.style.width="100%",l>0&&(o.style.height=l+"px"),t.appendChild(o),btn=t.parentElement.parentElement.getElementsByClassName("callid-btn"),btn.length>0&&btn[0].setAttribute("disabled",""),window.calLidObj[e].lead.fechaInicio="",window.calLidObj[e].lead.fechaFin=""}function horaFormato(e,t){if(window.calLidObj[e].formato24Horas)return t;{let e=parseInt(t.substring(0,2));return e<12?(0==e&&(e=12),t+=" am"):(e>12&&(e-=12),t+=" pm"),e+t.substring(2)}}function inicializa(e,t){let i=e.getAttribute("id");const l=new XMLHttpRequest;l.open("POST",window.calLidUrls.procesar,!0),l.setRequestHeader("Content-Type","application/json;charset=UTF-8"),l.setRequestHeader("APILlave",t.llave),l.onreadystatechange=function(){if(4===l.readyState&&200==l.status){let n="";for(var a in null==window.calLidObj&&(window.calLidObj=[]),window.calLidObj[i]=JSON.parse(l.responseText),window.calLidObj[i].leadErrores)null==window.calLidObj[i].leadPropiedades[a]&&(n+=", "+a);if(0!=n.length)throw new TypeError(`${n.substring(2)} son obligatorios`);if(null!=t.finalizoCarga&&(window.calLidObj[i].finalizoCarga=t.finalizoCarga),null!=t.seleccionoFecha&&(window.calLidObj[i].seleccionoFecha=t.seleccionoFecha),null!=t.finalizoRegistro&&(window.calLidObj[i].finalizoRegistro=t.finalizoRegistro),window.calLidObj[i].llave=t.llave,window.calLidObj[i].alto=t.alto,window.calLidObj[i].ancho=t.ancho,window.calLidObj[i].muestraFormulario=t.muestraFormulario,window.calLidObj[i].muestraBoton=t.muestraBoton,dibujaFormulario(e),window.calLidObj[i].hasOwnProperty("finalizoCarga")){let t=[];for(let i of e.getElementsByTagName("input"))t.push(i);window.calLidObj[i].finalizoCarga(t)}}else if(200!=l.status)throw new TypeError("error en la conexiÃ³n")},t.lead.fechaInicio="",t.lead.fechaFin="",l.send(JSON.stringify(t)),dibujaBloq(e,t.alto)}function actualizaLead(e,t){let i=e.getAttribute("id"),l=e.getElementsByTagName("input");for(var a in t)for(elmt of(window.calLidObj[i].lead[a]=t[a],l))if(elmt.getAttribute("data-pelemento")==a){elmt.value=t[a];break}}function registraLead(t){let i={exito:!0,elementosError:[],mensajesError:[]},l=t.getAttribute("id"),a=t.getElementsByTagName("input");for(var n in window.calLidObj[l].leadPropiedades)if(""==window.calLidObj[l].lead[n])for(elmt of a)if(elmt.getAttribute("data-pelemento")==n){window.calLidObj[l].leadPropiedades[n].obligatorio&&""==elmt.value?(i.mensajesError.push(n),i.elementosError.push(elmt),i.exito=!1):window.calLidObj[l].lead[n]=elmt.value;break}if(0==(a=t.getElementsByClassName("td-hora-sel")).length)for(e of a=t.getElementsByTagName("input"))if("fechaInicio"==e.getAttribute("data-pelemento")){""==e.value&&(i.elementosError.push(e),i.mensajesError.push("Seleccione una hora"),i.exito=!1);break}if(i.exito){window.calLidObj[l].leadErrores=null;const e=new XMLHttpRequest;e.open("POST",window.calLidUrls.registrar,!0),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.setRequestHeader("APILlave",window.calLidObj[l].llave),e.onreadystatechange=function(){if(4===e.readyState&&200==e.status){let a=JSON.parse(e.responseText);for(var t in i.lead=a.lead,a.leadErrores)i.mensajesError.push(`${t} : ${a.leadErrores[t]}`);if(0==i.mensajesError.length){i.exito=!0;let e=i.lead.comentario.split("|");i.lead.comentario="",i.lead.idEstado=e[0],i.lead.desEstado=e[1]}else i.exito=!1;window.calLidObj[l].hasOwnProperty("finalizoRegistro")&&window.calLidObj[l].finalizoRegistro(i)}else if(4===e.readyState&&200!=e.status)throw i.exito=!1,window.calLidObj[l].hasOwnProperty("finalizoRegistro")&&window.calLidObj[l].finalizoRegistro(i),new TypeError("error en la conexiÃ³n")},e.send(JSON.stringify(window.calLidObj[l]))}else window.calLidObj[l].hasOwnProperty("finalizoRegistro")&&window.calLidObj[l].finalizoRegistro(i)}function destruye(e){for(;e.firstChild;)e.removeChild(e.lastChild);window.calLidObj=void 0}window.calLidUrls={procesar:"https://apps.lider.com.pe:8072/api/callider/procesar",registrar:"https://apps.lider.com.pe:8072/api/callider/registrar"},calLidLead=function(e,t,i){if(null==this)throw new TypeError('"this" is null or not defined');let l=this,a="";if("function"==typeof jQuery&&(l=$(this)[0]),a=l.getAttribute("id"),"string"!=typeof e){if(e.constructor!=={}.constructor)throw new TypeError("debe especificar un objeto JSON");{if(!e.hasOwnProperty("lead"))throw new TypeError('JSON debe contener la propiedad "lead"');if(e.lead.constructor!=={}.constructor)throw new TypeError('la propiedad "lead" debe ser un objeto JSON');if(!e.lead.hasOwnProperty("grupo"))throw new TypeError('JSON debe contener la propiedad "grupo"');if(e.hasOwnProperty("finalizoRegistro")&&"function"!=typeof e.finalizoRegistro)throw new TypeError('"finalizoRegistro" debe ser una funciÃ³n');if(e.hasOwnProperty("seleccionoFecha")&&"function"!=typeof e.seleccionoFecha)throw new TypeError('"seleccionoFecha" debe ser una funciÃ³n');if(e.hasOwnProperty("finalizoCarga")&&"function"!=typeof e.finalizoCarga)throw new TypeError('"finalizoCarga" debe ser una funciÃ³n');let t=document.getElementsByTagName("script");for(scr of t)if(scr.hasAttribute("clid-llave")){llave=scr.getAttribute("clid-llave");break}if(null==llave||null==llave)throw new TypeError('la etiqueta "script" no contiene el atributo "clid-llave"');return e.llave=llave,inicializa(l,e),l}}if("opcion"==e){if("string"!=typeof t)throw new TypeError("parÃ¡metro de acciÃ³n incorrecto");if("registrarLead"==t){if(null==window.calLidObj||null==window.calLidObj[a]||null==window.calLidObj[a].lead)throw new TypeError("inicialice el calendario");registraLead(l)}else{if("obtenerLead"==t){if(null==window.calLidObj||null==window.calLidObj[a]||null==window.calLidObj[a].lead)throw new TypeError("inicialice el calendario");return window.calLidObj[a].lead}if("actualizarLead"!=t)throw new TypeError("parÃ¡metro de acciÃ³n incorrecto");if(i.constructor!=={}.constructor)throw new TypeError("parÃ¡metro de actualizaciÃ³n incorrecto");if(null==window.calLidObj||null==window.calLidObj[a]||null==window.calLidObj[a].lead)throw new TypeError("inicialice el calendario");actualizaLead(l,i)}}else if("refrescar"==e){if(null==window.calLidObj||null==window.calLidObj[a]||null==window.calLidObj[a].lead)throw new TypeError("inicialice el calendario");inicializa(l,window.calLidObj[a])}else{if("destruir"!=e)throw new TypeError("parÃ¡metro inicial incorrecto");destruye(l)}},"function"==typeof jQuery&&($.fn.calLidLead||($.fn.calLidLead=calLidLead)),Element.prototype.calLidLead||Object.defineProperty(Element.prototype,"calLidLead",{value:calLidLead,configurable:!0,writable:!0});